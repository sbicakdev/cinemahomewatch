{% extends "core/base.html" %}

{% block title %}Movie list{% endblock %}

{% block content %}
<h1>Recommendations</h1>
<div class="container" style="display:flex; flex-wrap:wrap; gap:20px; justify-content:center;">
    {% for movie in recommendations %}
    <a href="/api/movies/details/{{ movie.id }}" style="text-decoration:none;">
        <div class="movie-box" style="
                    background-color:white; 
                    border:1px solid #ddd; 
                    border-radius:10px; 
                    box-shadow:0 2px 6px rgba(0,0,0,0.1);
                    width:300px; 
                    padding:20px; 
                    transition:transform 0.2s;
                " onmouseover="this.style.transform='scale(1.02)'" onmouseout="this.style.transform='scale(1)'">
            <img src="{{ movie.poster_url }}" alt="Poster" style="width:100%; border-radius:8px; margin-bottom:10px;">
            <div class="movie-title" style="font-size:20px; font-weight:bold; margin-bottom:10px; color:#222;">
                {{ movie.title }}
            </div>
            <div class="movie-detail" style="margin-bottom:8px; color:#555;">
                Description: {{ movie.description }}
            </div>
            <div class="movie-detail" style="margin-bottom:8px; color:#555;">
                Duration: {{ movie.duration }} min
            </div>
            <div class="movie-detail" style="margin-bottom:8px; color:#555;">
                Average rating: {{ movie.average_rating }}
            </div>
            <div class="movie-detail" style="margin-bottom:8px; color:#555;">
                Genre(s):
                {% for mg in movie.moviesgenres.all %}
                {{ mg.genre.name }}{% if not forloop.last %}, {% endif %}
                {% empty %}
                No genres
                {% endfor %}
            </div>
        </div>
    </a>
    {% empty %}
    <p>There are no recommendations!</p>
    {% endfor %}
</div>

<h1>Movie list</h1>
<div class="container" style="display:flex; flex-wrap:wrap; gap:20px; justify-content:center;">
    {% for movie in movies %}
    <a href="/api/movies/details/{{ movie.id }}" style="text-decoration:none;">
        <div class="movie-box" style="
                    background-color:white; 
                    border:1px solid #ddd; 
                    border-radius:10px; 
                    box-shadow:0 2px 6px rgba(0,0,0,0.1);
                    width:300px; 
                    padding:20px; 
                    transition:transform 0.2s;
                " onmouseover="this.style.transform='scale(1.02)'" onmouseout="this.style.transform='scale(1)'">
            <img src="{{ movie.poster_url }}" alt="Poster" style="width:100%; border-radius:8px; margin-bottom:10px;">
            <div class="movie-title" style="font-size:20px; font-weight:bold; margin-bottom:10px; color:#222;">
                {{ movie.title }}
            </div>
            <div class="movie-detail" style="margin-bottom:8px; color:#555;">
                Description: {{ movie.description }}
            </div>
            <div class="movie-detail" style="margin-bottom:8px; color:#555;">
                Duration: {{ movie.duration }} min
            </div>
            <div class="movie-detail" style="margin-bottom:8px; color:#555;">
                Average rating: {{ movie.average_rating }}
            </div>
            <div class="movie-detail" style="margin-bottom:8px; color:#555;">
                Genre(s):
                {% for mg in movie.moviesgenres.all %}
                {{ mg.genre.name }}{% if not forloop.last %}, {% endif %}
                {% empty %}
                No genres
                {% endfor %}
            </div>
        </div>
    </a>
    {% empty %}
    <p>There are no available films.</p>
    {% endfor %}
</div>
{% endblock %}